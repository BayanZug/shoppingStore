<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments :: html_head(pageTitle='Edit Product')" />
	<div class="container-fluid" >
		<div th:replace="fragments :: header"></div>
				<h3 class="text-center">View Product</h3>
		
<div class="row justify-content-center" style="margin-top:20px">
			<div class="alert alert-info" th:if="${successMessage}"
				th:utext="${successMessage}"></div>

        <div class="col-xs-12 col-sm-8 col-md-6 col-sm-offset-2 col-md-offset-3">
				<form th:action="@{/admin/save}" th:object="${product}"
					method="post" role="form" enctype="multipart/form-data">
					<input type="hidden" th:field="*{id}" name="id"/>
					<div class="form-group row">
						<label th:if="${#fields.hasErrors('name')}" th:errors="*{name}"
							class="alert alert-danger col-12"></label> <label class="label col-md-3">Name</label><input type="text"
							th:field="*{name}" placeholder="Product Name"
							class="form-control col input-lg" />
					</div>
					<div class="form-group row">
						<label th:if="${#fields.hasErrors('description')}" th:errors="*{description}"
							class="alert alert-danger col-12"></label> <label class="label col-md-3">Description</label><input type="text"
							th:field="*{description}" placeholder="Product Description"
							class="form-control col input-lg" />
					</div>

					<div class="form-group row">
						<label th:if="${#fields.hasErrors('price')}" th:errors="*{price}"
							class="alert alert-danger col-12"></label><label class="label col-md-3">Price</label> <input type="text"
							th:field="*{price}" placeholder="Price"
							class="form-control col input-lg" />
					</div>

					<div class="form-group row">
						<label th:if="${#fields.hasErrors('discount')}"
							th:errors="*{discount}" class="alert alert-danger col-12"></label><label class="label col-md-3">Discount</label> <input
							type="text" th:field="*{discount}" placeholder="Discount"
							class="form-control col input-lg" />
					</div>

					<div class="form-group row">
						<label th:if="${#fields.hasErrors('quantity')}"
							th:errors="*{quantity}" class="alert alert-danger col-12"></label><label class="label col-md-3">Quantity</label> <input
							type="text" th:field="*{quantity}" placeholder="Quantity"
							class="form-control input-lg col" />
					</div>
					<div class="form-group row">
						<div class="custom-file col-12">
							<input type="file"  accept="image/png, image/jpeg"   class="custom-file-input" id="productPhoto"
								name="productPhoto" > <label class="custom-file-label"
								for="productPhoto">Choose file</label>
						</div>
<!-- 						<img alt="Image" th:src="@{'~/'+${product.image}}" th:if="*{image!=null}" class="col-12" height="250"/> -->
										<img th:if="${product.photo!=null}" th:src="@{'~/productImage/'+${product.id}}" class="mx-auto my-2"
					alt="no-image" height="150"/>
					</div>

					<div class="row">
						<div class="col-sm-3" style="float: none; margin: 0 auto;">
							<input type="submit" class="btn btn-primary btn-block"
								value="Submit" />
						</div>
					</div>

				</form>
			</div>
		</div>
    </div>
</body>
</html>